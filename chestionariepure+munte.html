<!doctype html>
<html lang="ro">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Chestionar Iepuri + Munte (50)</title>
  <style>
    :root{
      --bg:#f1f3f4; --card:#ffffff; --text:#202124; --muted:#5f6368;
      --accent:#10b981; --accent-2:#a3e635; --danger:#d93025; --ok:#1e8e3e;
      --border:#dadce0; --shadow:0 1px 2px rgba(0,0,0,.08), 0 2px 8px rgba(0,0,0,.06);
      --radius:14px;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:var(--text);line-height:1.35;}
    .wrap{max-width:900px;margin:28px auto 64px;padding:0 14px;}
    .header{border-radius:var(--radius);overflow:hidden;box-shadow:var(--shadow);background:var(--card);border:1px solid var(--border);margin-bottom:16px;}
    .topbar{height:10px;background:linear-gradient(90deg,var(--accent),var(--accent-2));}
    .head-body{padding:18px 18px 14px;}
    h1{margin:0 0 6px;font-size:22px;font-weight:750;}
    .subtitle{color:var(--muted);font-size:14px;margin:0 0 12px;}
    .meta{display:flex;gap:12px;flex-wrap:wrap;align-items:center;justify-content:space-between;border-top:1px solid var(--border);padding:10px 18px;background:#fafafa;}
    .chip{display:inline-flex;gap:8px;align-items:center;padding:6px 10px;border:1px solid var(--border);border-radius:999px;background:#fff;color:var(--muted);font-size:13px;}
    .progress{margin-left:auto;color:var(--muted);font-size:13px;}
    .nav{display:flex;gap:10px;flex-wrap:wrap;margin-top:8px;}
    .nav a{text-decoration:none;color:var(--accent);font-weight:650;border:1px solid #e0d7f5;background:#fff;border-radius:999px;padding:6px 10px;font-size:13px;}
    .nav a:hover{background:#f6f0ff;}
    .card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:16px 18px;margin:12px 0;}
    .q-title{font-weight:650;margin:0 0 10px;font-size:15px;}
    .q-num{color:var(--accent);font-weight:800;margin-right:6px;}
    fieldset{border:0;padding:0;margin:0;min-width:0;}
    .opt{display:flex;align-items:flex-start;gap:10px;padding:8px 10px;border-radius:10px;border:1px solid transparent;transition:background .15s ease,border .15s ease;cursor:pointer;}
    .opt:hover{background:#f6f0ff;border-color:#e7dbff;}
    input[type="radio"]{margin-top:2px;accent-color:var(--accent);transform:scale(1.05);}
    label{cursor:pointer;width:100%;}
    .missing{border-color:var(--danger)!important;box-shadow:0 0 0 3px rgba(217,48,37,.10);}
    .hint{color:var(--danger);font-size:12px;margin-top:8px;display:none;}
    .card.missing .hint{display:block;}

    /* dupÄƒ submit */
    .opt.correct{border-color: rgba(30,142,62,.35);background: rgba(30,142,62,.08);}
    .opt.wrong{border-color: rgba(217,48,37,.35);background: rgba(217,48,37,.08);}
    .answerBox{display:none;margin-top:10px;padding:10px 12px;border-radius:10px;border:1px solid var(--border);background:#fafafa;font-size:13px;color:var(--muted);}
    .answerBox b{color:var(--text);}

    .form-row{display:flex;gap:12px;flex-wrap:wrap;}
    .input{flex:1 1 260px;display:flex;flex-direction:column;gap:6px;}
    .input label{font-size:12px;color:var(--muted);cursor:default;}
    .input input{padding:10px 12px;border-radius:10px;border:1px solid var(--border);outline:none;font-size:14px;background:#fff;}
    .input input:focus{border-color:var(--accent);box-shadow:0 0 0 3px rgba(103,58,183,.12);}
    .actions{display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap;margin-top:14px;}
    .btn{border:0;border-radius:12px;padding:10px 14px;font-weight:700;cursor:pointer;font-size:14px;transition:transform .05s ease,opacity .2s ease,background .2s ease;display:inline-flex;align-items:center;gap:10px;}
    .btn:active{transform:translateY(1px);}
    .btn-primary{background:var(--accent);color:#fff;}
    .btn-primary:hover{background:#5a2fb0;}
    .btn-ghost{background:#fff;color:var(--accent);border:1px solid #e0d7f5;}
    .btn-ghost:hover{background:#f6f0ff;}
    .note{color:var(--muted);font-size:13px;}
    .score{display:none;text-align:center;padding:18px;border:1px solid #d7f0dd;background:#f4fbf6;}
    .score h2{margin:6px 0 10px;font-size:20px;}
    .score .big{font-size:40px;font-weight:900;color:var(--ok);margin:0;}
    .score .small{margin:8px 0 0;color:var(--muted);font-size:13px;}
    details{margin-top:10px;color:var(--muted);font-size:13px;}
    details summary{cursor:pointer;color:var(--accent);font-weight:700;}
    .disabled{opacity:.85;pointer-events:none;user-select:none;}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="header">
      <div class="topbar"></div>
      <div class="head-body">
        <h1>ğŸ‡â›°ï¸ Chestionar combinat: iepuri + munte</h1>
        <p class="subtitle">50 de Ã®ntrebÄƒri NOI (diferite) â€¢ combinaÈ›ie de faunÄƒ + context montan â€¢ dupÄƒ â€Trimiteâ€ vezi punctajul + corecturile.</p>

        <div class="nav" aria-label="Navigare">
          <a href="index.html">ğŸ  Meniu</a>
          <a href="chestionariepuri.html">ğŸ‡ Iepuri</a>
          <a href="chestionarmunte.html">â›°ï¸ Munte</a>
          <a href="chestionariepure+munte.html">ğŸ‡â›°ï¸ Combinat</a>
        </div>

        <div class="form-row" style="margin-top:12px">
          <div class="input">
            <label for="name">Nume (opÈ›ional)</label>
            <input id="name" type="text" placeholder="Ex: Andrei Popescu" autocomplete="name" />
          </div>
          <div class="input">
            <label for="email">Email (opÈ›ional)</label>
            <input id="email" type="email" placeholder="Ex: nume@exemplu.ro" autocomplete="email" />
          </div>
        </div>
      </div>
      <div class="meta">
        <span class="chip">ğŸ“‹ Tip: grilÄƒ (o singurÄƒ variantÄƒ / Ã®ntrebare)</span>
        <span class="chip">âœ… Punctaj: 1 punct / Ã®ntrebare</span>
        <span id="progress" class="progress">Completate: 0/50</span>
      </div>
    </div>

    <div id="scoreCard" class="card score" aria-live="polite">
      <h2>Rezultat final</h2>
      <p class="big" id="scoreText">0 / 50</p>
      <p class="small">DupÄƒ â€œTrimiteâ€, ai È™i rÄƒspunsurile corecte marcate mai jos.</p>
    </div>

    <form id="quizForm" novalidate>
      <div id="questions"></div>

      <div class="card">
        <div class="actions">
          <button type="button" class="btn btn-ghost" id="resetBtn">ReseteazÄƒ (random nou)</button>
          <div class="note" id="statusNote">CompleteazÄƒ toate Ã®ntrebÄƒrile, apoi apasÄƒ â€Trimiteâ€.</div>
          <button type="submit" class="btn btn-primary" id="submitBtn">Trimite</button>
        </div>

        <details>
          <summary>Surse / ghiduri (pentru documentare)</summary>
          <ul>
            <li>Animal Diversity Web â€“ Lagomorpha (biologie generalÄƒ)</li>
<li>Leave No Trace â€“ impact minim Ã®n habitat montan</li>
<li>NOAA / ghiduri meteo â€“ schimbÄƒri rapide la altitudine</li>
<li>Hunter Education â€“ principii de siguranÈ›Äƒ È™i eticÄƒ (general)</li>
<li>Ghiduri de sÄƒnÄƒtate publicÄƒ â€“ igienÄƒ È™i manipulare sigurÄƒ a vÃ¢natului</li>
          </ul>
        </details>
      </div>
    </form>
  </div>

  <script>
    // ÃntrebÄƒrile + opÈ›iunile sunt amestecate random la fiecare Ã®ncÄƒrcare/reset.
    const QUESTIONS = [{"text":"Iepurii È™i iepurii de cÃ¢mp aparÈ›in ordinului:","options":["Lagomorpha","Rodentia","Carnivora","Artiodactyla"],"correct":0},{"text":"O trÄƒsÄƒturÄƒ tipicÄƒ a lagomorfelor este existenÈ›a:","options":["A unei a doua perechi mici de incisivi superiori (â€peg teethâ€)","A colÈ›ilor mari pentru vÃ¢nÄƒtoare","A ciocului osos","A ghearelor retractile"],"correct":0},{"text":"PoziÈ›ia lateralÄƒ a ochilor la iepuri ajutÄƒ Ã®n principal la:","options":["CÃ¢mp vizual larg pentru detectarea prÄƒdÄƒtorilor","Vedere binocularÄƒ perfectÄƒ la distanÈ›Äƒ micÄƒ","Vedere nocturnÄƒ ca la bufniÈ›e","Detectarea culorilor UV fÄƒrÄƒ luminÄƒ"],"correct":0},{"text":"Ãn naturÄƒ, un semnal de alarmÄƒ frecvent la iepuri este:","options":["BÄƒtÄƒi puternice cu laba (thumping)","CÃ¢ntat Ã®n grup","Aplaudat","Fierberea apei"],"correct":0},{"text":"Comportamentul de marcaj â€chinningâ€ (frecare cu bÄƒrbia) este legat de:","options":["Glande de miros folosite pentru marcarea teritoriului/obiectelor","CurÄƒÈ›area blÄƒnii de noroi","ÃncÄƒlzirea corpului","Scoaterea cÄƒpuÈ™elor"],"correct":0},{"text":"Procesul numit cecotrofie (cecotrophy) la iepuri Ã®nseamnÄƒ cÄƒ:","options":["ConsumÄƒ cecotrofe pentru a valorifica nutrienÈ›i/vitamine produse Ã®n intestin","MÄƒnÃ¢ncÄƒ doar carne iarna","Nu beau niciodatÄƒ apÄƒ","ÃÈ™i schimbÄƒ culoarea blÄƒnii zilnic"],"correct":0},{"text":"La multe specii de iepure de cÃ¢mp din zone cu ierni lungi, o adaptare sezonierÄƒ este:","options":["Albirea parÈ›ialÄƒ/totalÄƒ a blÄƒnii pentru camuflaj","CreÈ™terea colÈ›ilor","Mutarea definitivÄƒ Ã®n apÄƒ","Hibernarea profundÄƒ ca ursul"],"correct":0},{"text":"Ãn ecosisteme montane, â€zona de tranziÈ›ieâ€ Ã®ntre pÄƒdure È™i gol alpin se numeÈ™te adesea:","options":["Linia arborilor (treeline)","Delta","DunÄƒ","Recif"],"correct":0},{"text":"CreÈ™terea altitudinii influenÈ›eazÄƒ vegetaÈ›ia pentru cÄƒ, Ã®n general:","options":["Temperatura medie scade È™i sezonul de creÈ™tere se scurteazÄƒ","Oxigenul creÈ™te È™i plantele devin tropicale","Ploaia dispare complet","Solul devine metal pur"],"correct":0},{"text":"Ãn zone montane, o strategie de camuflaj pentru un iepure poate depinde mult de:","options":["Culoarea substratului (zÄƒpadÄƒ/iarbÄƒ/roci) È™i acoperirea disponibilÄƒ","NumÄƒrul de oameni pe potecÄƒ","Marca rucsacului","Faza lunii doar"],"correct":0},{"text":"DacÄƒ vÃ¢nezi sau te deplasezi cu armÄƒ Ã®n teren montan, cea mai importantÄƒ regulÄƒ privind direcÈ›ia È›evii este:","options":["Èšeava orientatÄƒ permanent Ã®ntr-o direcÈ›ie sigurÄƒ, indiferent de pantÄƒ","Èšeava spre creastÄƒ ca sÄƒ fie stabil","Èšeava spre sol mereu, chiar lÃ¢ngÄƒ oameni","Èšeava spre È›intÄƒ Ã®nainte de identificare"],"correct":0},{"text":"Pe pante abrupte, ce aspect al siguranÈ›ei la tragere devine È™i mai important?","options":["Fundalul/backstopul (ce e dincolo) È™i unghiul de tragere","Culoarea Ã®mbrÄƒcÄƒminÈ›ii","Greutatea bocancilor","NumÄƒrul de cartuÈ™e"],"correct":0},{"text":"Ãntr-o zi cu ceaÈ›Äƒ pe munte, riscul major cÃ¢nd urmÄƒreÈ™ti semne de faunÄƒ este:","options":["Dezorientarea È™i pierderea traseului","SupraÃ®ncÄƒlzirea corpului imediat","Lipsa totalÄƒ a sunetelor","CreÈ™terea oxigenului"],"correct":0},{"text":"CÃ¢nd urmezi urme de animal Ã®n zÄƒpadÄƒ Ã®n teren variat, cel mai util instrument pentru a nu te rÄƒtÄƒci este:","options":["Harta + busola (È™i/sau GPS), cu puncte de reper","Doar memoria","Doar fotografia urmei","Un fluier"],"correct":0},{"text":"Un semn cÄƒ un front rece se apropie (È™i ar trebui sÄƒ grÄƒbeÈ™ti retragerea) poate fi:","options":["VÃ¢nt Ã®n creÈ™tere È™i nori care se Ã®ngroaÈ™Äƒ/Ã®ntunecÄƒ rapid","IarbÄƒ mai verde","Pietre mai calde","Urme mai mari"],"correct":0},{"text":"Ãn naturÄƒ, iepurii sunt consideraÈ›i â€specie-pradÄƒâ€ deoarece:","options":["Sunt vÃ¢naÈ›i de numeroÈ™i prÄƒdÄƒtori È™i au adaptÄƒri de evitare","VÃ¢neazÄƒ alte mamifere","Nu au niciun prÄƒdÄƒtor","Sunt invincibili"],"correct":0},{"text":"O practicÄƒ responsabilÄƒ cÃ¢nd gÄƒseÈ™ti un animal cu semne evidente de boalÄƒ este:","options":["Evitarea contactului direct È™i urmarea recomandÄƒrilor autoritÄƒÈ›ilor locale","SÄƒ Ã®l iei acasÄƒ","SÄƒ Ã®l atingi fÄƒrÄƒ mÄƒnuÈ™i","SÄƒ Ã®l consumi crud"],"correct":0},{"text":"Ãn drumeÈ›ie, regula â€nu te baza doar pe telefonâ€ este importantÄƒ deoarece:","options":["Bateria/semnalul pot pica, mai ales la frig sau Ã®n vÄƒi","Telefonul nu poate arÄƒta ora","Telefonul nu are ecran","Telefonul creÈ™te riscul de foame"],"correct":0},{"text":"Ãn teren montan, un â€plan de Ã®ntoarcereâ€ (turn-around) te ajutÄƒ sÄƒ eviÈ›i:","options":["SÄƒ fii prins de noapte sau furtunÄƒ de dupÄƒ-amiazÄƒ","SÄƒ ai prea multÄƒ apÄƒ","SÄƒ mergi prea Ã®ncet mereu","SÄƒ gÄƒseÈ™ti traseul"],"correct":0},{"text":"Ãn zone cu urÈ™i, o recomandare generalÄƒ pentru hranÄƒ este:","options":["Depozitare sigurÄƒ, departe de locul de dormit","ÈšinutÄƒ Ã®n cort lÃ¢ngÄƒ sac","LÄƒsatÄƒ pe potecÄƒ","ÃmprÄƒÈ™tiatÄƒ pentru animale"],"correct":0},{"text":"Ãn context montan, de ce e important sÄƒ nu laÈ™i resturi alimentare?","options":["Atrag fauna, schimbÄƒ comportamentul È™i pot crea conflicte","Pentru cÄƒ se evaporÄƒ apa","Pentru cÄƒ atrage nori","Pentru cÄƒ Ã®ngheaÈ›Äƒ imediat"],"correct":0},{"text":"DacÄƒ te afli pe creastÄƒ È™i auzi tunete, cea mai bunÄƒ decizie este:","options":["Cobori spre teren mai jos È™i eviÈ›i punctele expuse","RÄƒmÃ¢i pe vÃ¢rf pentru priveliÈ™te","Te aÈ™ezi lÃ¢ngÄƒ un copac izolat","Ridici beÈ›ele Ã®n aer"],"correct":0},{"text":"Ãn gospodÄƒrirea responsabilÄƒ a faunei, sezoanele de vÃ¢nÄƒtoare existÄƒ Ã®n principal pentru:","options":["A proteja reproducerea È™i a menÈ›ine populaÈ›ii sustenabile","A face vÃ¢ntul mai slab","A creÈ™te preÈ›ul bocancilor","A interzice drumeÈ›iile"],"correct":0},{"text":"Un indicator de pantÄƒ mare pe hartÄƒ este:","options":["Curbe de nivel foarte apropiate","Curbe foarte depÄƒrtate","Lipsa curbelor","Textul scris cu bold"],"correct":0},{"text":"Un motiv pentru care urmÄƒririle lungi dupÄƒ vÃ¢nat Ã®n munÈ›i sunt riscante este:","options":["ObosealÄƒ + vreme schimbÄƒtoare + teren tehnic","Pentru cÄƒ devii mai puternic instant","Pentru cÄƒ scade gravitaÈ›ia","Pentru cÄƒ dispar pietrele"],"correct":0},{"text":"Ce Ã®nseamnÄƒ sÄƒ porÈ›i straturi (layering) corect Ã®n miÈ™care?","options":["Adaptezi straturile ca sÄƒ eviÈ›i transpiraÈ›ia excesivÄƒ È™i rÄƒcirea","PorÈ›i totul gros mereu","Nu porÈ›i strat exterior niciodatÄƒ","PorÈ›i doar bumbac"],"correct":0},{"text":"Ãn naturÄƒ, iepurii contribuie la ecosistem È™i prin:","options":["Dispersie de seminÈ›e È™i influenÈ›area structurii vegetaÈ›iei prin pÄƒÈ™unat","Construirea de baraje ca castorii","VÃ¢nÄƒtoare de cerbi","Polenizare ca albinele"],"correct":0},{"text":"Ãn zone alpine, una dintre cele mai frecvente surse de apÄƒ este:","options":["Izvor/È™iroaie din topirea zÄƒpezii (dar necesitÄƒ tratament)","Doar apa de mare","Doar apÄƒ Ã®mbuteliatÄƒ natural","Numai ploaia din nori"],"correct":0},{"text":"CÃ¢nd manipulezi vÃ¢nat Ã®n teren, ce minimizeazÄƒ riscul sanitar?","options":["MÄƒnuÈ™i, igienÄƒ È™i gÄƒtire temeinicÄƒ","Consum crud","FÄƒrÄƒ spÄƒlat unelte","Atingerea feÈ›ei"],"correct":0},{"text":"Ãn zone cu furtuni rapide, o planificare bunÄƒ include:","options":["Plecarea devreme È™i evitarea crestelor dupÄƒ-amiazÄƒ","Plecare la prÃ¢nz","Ignorarea prognozei","Doar mers noaptea"],"correct":0},{"text":"O strategie de reducere a impactului asupra habitatelor sensibile este:","options":["RÄƒmÃ¢i pe poteci È™i eviÈ›i cÄƒlcarea zonelor fragile","Tai scurtÄƒturi prin jnepeni","Aprinzi focuri pe muÈ™chi","Arunci pietre de pe versant"],"correct":0},{"text":"La altitudine, radiaÈ›ia solarÄƒ poate fi mai puternicÄƒ, deci e recomandat:","options":["CremÄƒ cu SPF + ochelari + pÄƒlÄƒrie","SÄƒ stai fÄƒrÄƒ protecÈ›ie","SÄƒ bei doar cafea","SÄƒ eviÈ›i apa"],"correct":0},{"text":"DacÄƒ urmezi animale la marginea pÄƒdurii, de ce conteazÄƒ â€edge habitatâ€?","options":["OferÄƒ hranÄƒ È™i acoperire Ã®n acelaÈ™i timp","Este Ã®ntotdeauna lipsit de viaÈ›Äƒ","ExistÄƒ doar iarna","Nu are nicio influenÈ›Äƒ"],"correct":0},{"text":"Ãn iarnÄƒ, o pantÄƒ aparent sigurÄƒ poate deveni periculoasÄƒ din cauza:","options":["GheÈ›ii ascunse È™i alunecÄƒrii","Curbelor de nivel","PÄƒsÄƒrilor","Lipsei de aer"],"correct":0},{"text":"Un semn cÄƒ un traseu devine prea tehnic pentru tine este:","options":["ÃÈ›i pierzi echilibrul/descent control È™i creÈ™te riscul de cÄƒdere","Ai prea multÄƒ energie","Te simÈ›i invincibil","ÃÈ›i place priveliÈ™tea"],"correct":0},{"text":"Ãn teren accidentat, beÈ›ele de trekking ajutÄƒ mai ales la:","options":["Stabilitate È™i reducerea stresului pe genunchi la coborÃ¢re","CreÈ™terea vitezei glonÈ›ului","Aprinderea focului","NavigaÈ›ie astralÄƒ"],"correct":0},{"text":"Ãn naturÄƒ, iepurii sunt activi adesea la rÄƒsÄƒrit/apus deoarece:","options":["EvitÄƒ vÃ¢rful de activitate al unor prÄƒdÄƒtori È™i cÄƒldura zilei","Le place doar lumina albastrÄƒ","Nu pot vedea ziua","Nu existÄƒ hranÄƒ ziua"],"correct":0},{"text":"Ãn munÈ›i, direcÈ›ia vÃ¢ntului se poate schimba rapid din cauza:","options":["CanalizÄƒrii prin vÄƒi È™i efectelor de relief","Doar a lunii pline","Numai a pÄƒdurilor","A pantofilor"],"correct":0},{"text":"CÃ¢nd vezi urme multiple care se intersecteazÄƒ, un mod bun de a evita confuzia este:","options":["SÄƒ urmÄƒreÈ™ti continuitatea, direcÈ›ia È™i contextul (habitat)","SÄƒ alegi la Ã®ntÃ¢mplare","SÄƒ ignori urmele","SÄƒ te bazezi doar pe mÄƒrime"],"correct":0},{"text":"Ãn cazul Ã®n care ai nevoie de ajutor, un lucru util Ã®nainte de plecare este:","options":["SÄƒ laÈ™i ruta È™i ora estimatÄƒ unui apropiat","SÄƒ nu spui nimÄƒnui","SÄƒ pleci fÄƒrÄƒ hartÄƒ","SÄƒ pleci fÄƒrÄƒ apÄƒ"],"correct":0},{"text":"Ce Ã®nseamnÄƒ â€recoltare umanÄƒâ€ (principiu etic) Ã®n context de vÃ¢nÄƒtoare?","options":["Minimizarea suferinÈ›ei prin decizii responsabile È™i recuperare promptÄƒ","SÄƒ ignori loviturile","SÄƒ tragi la distanÈ›e extreme","SÄƒ laÈ™i vÃ¢natul nerecuperat"],"correct":0},{"text":"Ãn zone unde drumeÈ›ii È™i vÃ¢nÄƒtoarea coexistÄƒ, o bunÄƒ practicÄƒ este:","options":["Vizibilitate, comunicare È™i respectarea zonelor/regulilor locale","SÄƒ te ascunzi mereu","SÄƒ ignori potecile marcate","SÄƒ mergi doar noaptea"],"correct":0},{"text":"Ãn teren montan, o lanternÄƒ frontalÄƒ (headlamp) este importantÄƒ deoarece:","options":["Ãntunericul poate veni repede È™i ai nevoie de mÃ¢ini libere","ÃÈ›i mÄƒreÈ™te altitudinea","ÃÈ›i Ã®ncÄƒlzeÈ™te apa instant","AlungÄƒ fulgerele"],"correct":0},{"text":"CÃ¢nd te apropii de un animal sÄƒlbatic, recomandarea responsabilÄƒ este:","options":["PÄƒstrezi distanÈ›Äƒ È™i nu Ã®l hrÄƒneÈ™ti","Ãl atingi pentru poze","Ãl urmÄƒreÈ™ti pÃ¢nÄƒ oboseÈ™te","Ãl Ã®mpingi spre potecÄƒ"],"correct":0},{"text":"Ãn sezon rece, un mod practic de a preveni hipotermia este:","options":["SÄƒ rÄƒmÃ¢i uscat, sÄƒ mÄƒnÃ¢nci/bei regulat È™i sÄƒ ajustezi straturile","SÄƒ stai transpirat la vÃ¢nt","SÄƒ eviÈ›i mÃ¢ncarea","SÄƒ bei doar alcool"],"correct":0},{"text":"Ãn teren cu grohotiÈ™, cel mai mare risc la pas greÈ™it este:","options":["Alunecare/cÄƒdere din cauza pietrelor instabile","ArsurÄƒ solarÄƒ instant","ÃngheÈ› Ã®n 2 secunde","Pierdere de semnal Wiâ€‘Fi"],"correct":0},{"text":"Ãn ecosisteme montane, schimbÄƒrile rapide de vreme fac importantÄƒ:","options":["Planificarea pe prognozÄƒ + echipament pentru ploaie/vÃ¢nt","SÄƒ porÈ›i doar tricou","SÄƒ ignori harta","SÄƒ pleci fÄƒrÄƒ apÄƒ"],"correct":0},{"text":"DacÄƒ vezi simptome persistente de rÄƒu de altitudine, cea mai sigurÄƒ mÄƒsurÄƒ este adesea:","options":["CoborÃ¢re la altitudine mai micÄƒ È™i monitorizare","SÄƒ urci mai sus","SÄƒ alergi","SÄƒ eviÈ›i somnul"],"correct":0},{"text":"Ãn zone montane, folosirea muniÈ›iei fÄƒrÄƒ plumb poate reduce (Ã®n unele contexte) riscul de:","options":["IntoxicaÈ›ie la pÄƒsÄƒri/necrofage care consumÄƒ resturi","Topirea zÄƒpezii","Furtuni electrice","Hipotermie"],"correct":0},{"text":"De ce e util sÄƒ ai un kit minim de prim ajutor Ã®n drumeÈ›ie/vÃ¢nÄƒtoare?","options":["TÄƒieturi/entorse apar frecvent Ã®n teren È™i pot escalada","Pentru cÄƒ e decorativ","Ca sÄƒ arÄƒÈ›i profesionist","Nu ajutÄƒ niciodatÄƒ"],"correct":0}];

    // === RANDOM puternic (crypto) ===
    function randInt(maxExclusive) {
      if (maxExclusive <= 0) return 0;
      const cryptoObj = window.crypto || window.msCrypto;
      if (!cryptoObj || !cryptoObj.getRandomValues) {
        return Math.floor(Math.random() * maxExclusive);
      }
      const range = 0x100000000; // 2^32
      const limit = range - (range % maxExclusive);
      const buf = new Uint32Array(1);
      let x;
      do {
        cryptoObj.getRandomValues(buf);
        x = buf[0];
      } while (x >= limit);
      return x % maxExclusive;
    }

    function shuffle(arr) {
      for (let i = arr.length - 1; i > 0; i--) {
        const j = randInt(i + 1);
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
      return arr;
    }

    function escapeHtml(s) {
      return String(s).replace(/[&<>"']/g, c => ({
        "&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#39;"
      }[c]));
    }

    const state = { rendered: [], answeredCount: 0, submitted: false, total: 50 };

    const elQuestions = document.getElementById("questions");
    const elProgress = document.getElementById("progress");
    const elScoreCard = document.getElementById("scoreCard");
    const elScoreText = document.getElementById("scoreText");
    const form = document.getElementById("quizForm");
    const resetBtn = document.getElementById("resetBtn");

    function updateProgress() {
      elProgress.textContent = `Completate: ${state.answeredCount}/${state.total}`;
    }

    function countAnswered() {
      let c = 0;
      state.rendered.forEach((_, idx) => {
        if (form.querySelector(`input[name="q_${idx}"]:checked`)) c++;
      });
      state.answeredCount = c;
      updateProgress();
    }

    function clearMissingMarks() {
      document.querySelectorAll(".card.missing").forEach(c => c.classList.remove("missing"));
    }

    // 1) shuffle Ã®ntrebÄƒri
    // 2) shuffle opÈ›iuni per Ã®ntrebare
    // 3) corectul se pÄƒstreazÄƒ prin flag isCorrect
    function buildRenderedQuestions() {
      const qList = QUESTIONS.map(q => {
        const opts = q.options.map((t, i) => ({ text: t, isCorrect: i === q.correct }));
        shuffle(opts);
        const correctIndex = opts.findIndex(o => o.isCorrect);
        return { text: q.text, options: opts, correctIndex };
      });
      shuffle(qList);
      return qList;
    }

    function render() {
      elQuestions.innerHTML = "";
      state.rendered = buildRenderedQuestions();
      state.total = state.rendered.length;

      state.rendered.forEach((item, idx) => {
        const card = document.createElement("div");
        card.className = "card";
        card.dataset.qIndex = idx;

        const title = document.createElement("p");
        title.className = "q-title";
        title.innerHTML = `<span class="q-num">${idx + 1}.</span> ${escapeHtml(item.text)}`;
        card.appendChild(title);

        const fs = document.createElement("fieldset");
        fs.setAttribute("role","radiogroup");

        item.options.forEach((opt, oIdx) => {
          const optId = `q_${idx}_opt_${oIdx}`;

          const wrap = document.createElement("div");
          wrap.className = "opt";
          wrap.dataset.optIndex = String(oIdx);

          const radio = document.createElement("input");
          radio.type = "radio";
          radio.name = `q_${idx}`;
          radio.id = optId;
          radio.value = String(oIdx);

          radio.addEventListener("change", () => {
            if (state.submitted) return;
            card.classList.remove("missing");
            countAnswered();
          });

          const label = document.createElement("label");
          label.setAttribute("for", optId);
          label.textContent = opt.text;

          wrap.appendChild(radio);
          wrap.appendChild(label);
          fs.appendChild(wrap);
        });

        const hint = document.createElement("div");
        hint.className = "hint";
        hint.textContent = "Ãntrebare obligatorie (alege o variantÄƒ).";

        const answerBox = document.createElement("div");
        answerBox.className = "answerBox";
        answerBox.id = `answer_${idx}`;

        card.appendChild(fs);
        card.appendChild(hint);
        card.appendChild(answerBox);
        elQuestions.appendChild(card);
      });

      state.answeredCount = 0;
      updateProgress();
    }

    function validateAllAnswered() {
      clearMissingMarks();
      let firstMissing = null;

      state.rendered.forEach((_, idx) => {
        const checked = form.querySelector(`input[name="q_${idx}"]:checked`);
        if (!checked) {
          const card = form.querySelector(`.card[data-q-index="${idx}"]`);
          if (card) card.classList.add("missing");
          if (!firstMissing) firstMissing = card;
        }
      });

      if (firstMissing) {
        firstMissing.scrollIntoView({behavior:"smooth", block:"center"});
        return false;
      }
      return true;
    }

    function computeScore() {
      let score = 0;
      state.rendered.forEach((item, idx) => {
        const checked = form.querySelector(`input[name="q_${idx}"]:checked`);
        const chosen = checked ? Number(checked.value) : -1;
        if (chosen === item.correctIndex) score++;
      });
      return score;
    }

    function showCorrectAnswers() {
      state.rendered.forEach((item, idx) => {
        const checked = form.querySelector(`input[name="q_${idx}"]:checked`);
        const chosen = checked ? Number(checked.value) : -1;

        const card = form.querySelector(`.card[data-q-index="${idx}"]`);
        if (!card) return;

        const opts = card.querySelectorAll(".opt");
        opts.forEach(optEl => {
          const oIdx = Number(optEl.dataset.optIndex);
          optEl.classList.remove("correct","wrong");
          if (oIdx === item.correctIndex) optEl.classList.add("correct");
          if (chosen !== item.correctIndex && oIdx === chosen) optEl.classList.add("wrong");
        });

        const correctText = item.options[item.correctIndex]?.text ?? "";
        const chosenText = (chosen >= 0 && item.options[chosen]) ? item.options[chosen].text : "â€”";

        const box = document.getElementById(`answer_${idx}`);
        if (box) {
          box.innerHTML =
            `<div><b>RÄƒspuns corect:</b> ${escapeHtml(correctText)}</div>` +
            `<div style="margin-top:6px"><b>RÄƒspunsul tÄƒu:</b> ${escapeHtml(chosenText)}</div>`;
          box.style.display = "block";
        }
      });
    }

    function lockForm() {
      state.submitted = true;
      form.querySelectorAll("input, button").forEach(el => {
        if (el.id === "resetBtn") return;
        el.disabled = true;
      });
      document.getElementById("questions").classList.add("disabled");
    }

    function unlockAndReset() {
      state.submitted = false;
      form.querySelectorAll("input, button").forEach(el => el.disabled = false);
      document.getElementById("questions").classList.remove("disabled");
      elScoreCard.style.display = "none";
      clearMissingMarks();
      render(); // random nou
      window.scrollTo({top:0, behavior:"smooth"});
    }

    form.addEventListener("submit", (e) => {
      e.preventDefault();
      if (state.submitted) return;

      if (!validateAllAnswered()) return;

      const score = computeScore();
      const total = state.total;

      elScoreText.textContent = `${score} / ${total}`;
      elScoreCard.style.display = "block";

      showCorrectAnswers();
      lockForm();
      elScoreCard.scrollIntoView({behavior:"smooth", block:"center"});
    });

    resetBtn.addEventListener("click", () => unlockAndReset());

    render();
  </script>
</body>
</html>
